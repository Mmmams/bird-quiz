{"ast":null,"code":"import { takeLatest, call, put, all } from \"redux-saga/effects\";\nimport birdsActionTypes from \"./birds.types\";\nimport { fetchImageFailure, fetchImageSuccess } from \"./birds.action\";\nexport function* onFetchImageStart() {\n  yield takeLatest(birdsActionTypes.FETCH_IMAGE_START, fetchingImage);\n}\nexport function* fetchingImage({\n  birdName\n}) {\n  try {\n    console.log(birdName);\n    const data = yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=ворон`).then(response => response.json());\n    yield put(fetchImageSuccess(data));\n  } catch (error) {\n    yield put(fetchImageFailure(error));\n  }\n}","map":{"version":3,"sources":["/home/sergei/Work/bird-quiz/bird-quiz/src/redux/birds/birds.sagas.js"],"names":["takeLatest","call","put","all","birdsActionTypes","fetchImageFailure","fetchImageSuccess","onFetchImageStart","FETCH_IMAGE_START","fetchingImage","birdName","console","log","data","fetch","then","response","json","error"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,IAArB,EAA2BC,GAA3B,EAAgCC,GAAhC,QAA2C,oBAA3C;AAEA,OAAOC,gBAAP,MAA6B,eAA7B;AAEA,SAASC,iBAAT,EAA4BC,iBAA5B,QAAqD,gBAArD;AAEA,OAAO,UAAUC,iBAAV,GAA8B;AACnC,QAAMP,UAAU,CAACI,gBAAgB,CAACI,iBAAlB,EAAqCC,aAArC,CAAhB;AACD;AAED,OAAO,UAAUA,aAAV,CAAwB;AAAEC,EAAAA;AAAF,CAAxB,EAAsC;AAC3C,MAAI;AACFC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,UAAMG,IAAI,GAAG,MAAMC,KAAK,CACrB,8KADqB,CAAL,CAEjBC,IAFiB,CAEXC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAFF,CAAnB;AAGA,UAAMf,GAAG,CAACI,iBAAiB,CAACO,IAAD,CAAlB,CAAT;AACD,GAND,CAME,OAAOK,KAAP,EAAc;AACd,UAAMhB,GAAG,CAACG,iBAAiB,CAACa,KAAD,CAAlB,CAAT;AACD;AACF","sourcesContent":["import { takeLatest, call, put, all } from \"redux-saga/effects\";\n\nimport birdsActionTypes from \"./birds.types\";\n\nimport { fetchImageFailure, fetchImageSuccess } from \"./birds.action\";\n\nexport function* onFetchImageStart() {\n  yield takeLatest(birdsActionTypes.FETCH_IMAGE_START, fetchingImage);\n}\n\nexport function* fetchingImage({ birdName }) {\n  try {\n    console.log(birdName);\n    const data = yield fetch(\n      `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=ворон`\n    ).then((response) => response.json());\n    yield put(fetchImageSuccess(data));\n  } catch (error) {\n    yield put(fetchImageFailure(error));\n  }\n}\n"]},"metadata":{},"sourceType":"module"}