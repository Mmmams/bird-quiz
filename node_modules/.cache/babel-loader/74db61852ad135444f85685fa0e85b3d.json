{"ast":null,"code":"import { takeLatest, put, all, call, select } from \"redux-saga/effects\";\nimport birdsActionTypes from \"./birds.types\";\nimport { selectLevel, selectBirdsNames } from \"./birds.selector\";\nimport { getRandomValue } from \"../../utils\";\nimport { fetchImageFailure, fetchImageSuccess, getRandom, goNextLevelFailure, goNextLevelSuccess } from \"./birds.action\";\nexport function* birdsSagas() {\n  yield all([call(onFetchImageStart), call(onNextLevel)]);\n}\nexport function* onFetchImageStart() {\n  yield takeLatest(birdsActionTypes.FETCH_IMAGE_START, fetchingImage);\n}\nexport function* fetchingImage() {\n  try {\n    const data = [];\n    const birdsLength = yield select(selectBirdsNames);\n    const randomValue = yield getRandomValue(birdsLength.length);\n    yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=ворон`).then(response => response.json()).then(value => data.push(value));\n    yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=журавль`).then(response => response.json()).then(value => data.push(value));\n    yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=сорока`).then(response => response.json()).then(value => data.push(value));\n    yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=козодой`).then(response => response.json()).then(value => data.push(value));\n    yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=кукушка`).then(response => response.json()).then(value => data.push(value));\n    yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=синица`).then(response => response.json()).then(value => data.push(value));\n    yield put(fetchImageSuccess(data));\n    yield put(getRandom(randomValue));\n  } catch (error) {\n    yield put(fetchImageFailure(error));\n  }\n}\nexport function* onNextLevel() {\n  yield takeLatest(birdsActionTypes.GO_NEXT_LEVEL_START, goNextLevel);\n}\nexport function* goNextLevel() {\n  const level = yield select(selectLevel);\n  const data = [];\n  const birdsLength = yield select(selectBirdsNames);\n  const randomValue = yield getRandomValue(birdsLength.length);\n\n  switch (level) {\n    case 1:\n      {\n        try {\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=воробей`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=грач`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=галка`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=дрозд`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=сойка`).then(response => response.json()).then(value => data.push(value));\n          yield put(goNextLevelSuccess(data));\n          yield put(getRandom(randomValue));\n        } catch (error) {\n          yield put(goNextLevelFailure(error));\n        }\n\n        break;\n      }\n\n    case 2:\n      {\n        try {\n          const data = [];\n          const birdsLength = yield select(selectBirdsNames);\n          const randomValue = yield getRandomValue(birdsLength.length);\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=зяблик`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=клёст`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=горлица`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=дятел`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=удод`).then(response => response.json()).then(value => data.push(value));\n          yield put(goNextLevelSuccess(data));\n          yield put(getRandom(randomValue));\n        } catch (error) {\n          yield put(goNextLevelFailure(error));\n        }\n\n        break;\n      }\n\n    case 3:\n      {\n        try {\n          const data = [];\n          const birdsLength = yield select(selectBirdsNames);\n          const randomValue = yield getRandomValue(birdsLength.length);\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=соловей`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=скворец`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=щегол`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=свиристель`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=иволга`).then(response => response.json()).then(value => data.push(value));\n          yield put(goNextLevelSuccess(data));\n          yield put(getRandom(randomValue));\n        } catch (error) {\n          yield put(goNextLevelFailure(error));\n        }\n\n        break;\n      }\n\n    case 4:\n      {\n        try {\n          const data = [];\n          const birdsLength = yield select(selectBirdsNames);\n          const randomValue = yield getRandomValue(birdsLength.length);\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=коршун`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=лунь`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=сокол`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=ястреб`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=филин`).then(response => response.json()).then(value => data.push(value));\n          yield put(goNextLevelSuccess(data));\n          yield put(getRandom(randomValue));\n        } catch (error) {\n          yield put(goNextLevelFailure(error));\n        }\n\n        break;\n      }\n\n    case 5:\n      {\n        try {\n          const data = [];\n          const birdsLength = yield select(selectBirdsNames);\n          const randomValue = yield getRandomValue(birdsLength.length);\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=олуша`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=буревестник`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=пеликан`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=пингвин`).then(response => response.json()).then(value => data.push(value));\n          yield fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=чайка`).then(response => response.json()).then(value => data.push(value));\n          yield put(goNextLevelSuccess(data));\n          yield put(getRandom(randomValue));\n        } catch (error) {\n          yield put(goNextLevelFailure(error));\n        }\n\n        break;\n      }\n  }\n}","map":{"version":3,"sources":["/home/sergei/Work/bird-quiz/src/redux/birds/birds.sagas.js"],"names":["takeLatest","put","all","call","select","birdsActionTypes","selectLevel","selectBirdsNames","getRandomValue","fetchImageFailure","fetchImageSuccess","getRandom","goNextLevelFailure","goNextLevelSuccess","birdsSagas","onFetchImageStart","onNextLevel","FETCH_IMAGE_START","fetchingImage","data","birdsLength","randomValue","length","fetch","then","response","json","value","push","error","GO_NEXT_LEVEL_START","goNextLevel","level"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,GAArB,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAqCC,MAArC,QAAmD,oBAAnD;AAEA,OAAOC,gBAAP,MAA6B,eAA7B;AACA,SAASC,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AACA,SAASC,cAAT,QAA+B,aAA/B;AACA,SACEC,iBADF,EAEEC,iBAFF,EAGEC,SAHF,EAIEC,kBAJF,EAKEC,kBALF,QAMO,gBANP;AAQA,OAAO,UAAUC,UAAV,GAAuB;AAC5B,QAAMZ,GAAG,CAAC,CAACC,IAAI,CAACY,iBAAD,CAAL,EAA0BZ,IAAI,CAACa,WAAD,CAA9B,CAAD,CAAT;AACD;AAED,OAAO,UAAUD,iBAAV,GAA8B;AACnC,QAAMf,UAAU,CAACK,gBAAgB,CAACY,iBAAlB,EAAqCC,aAArC,CAAhB;AACD;AAED,OAAO,UAAUA,aAAV,GAA0B;AAC/B,MAAI;AACF,UAAMC,IAAI,GAAG,EAAb;AACA,UAAMC,WAAW,GAAG,MAAMhB,MAAM,CAACG,gBAAD,CAAhC;AACA,UAAMc,WAAW,GAAG,MAAMb,cAAc,CAACY,WAAW,CAACE,MAAb,CAAxC;AAEA,UAAMC,KAAK,CACR,8KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,UAAMJ,KAAK,CACR,gLADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,UAAMJ,KAAK,CACR,+KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,UAAMJ,KAAK,CACR,gLADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,UAAMJ,KAAK,CACR,gLADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,UAAMJ,KAAK,CACR,+KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAMA,UAAM1B,GAAG,CAACS,iBAAiB,CAACS,IAAD,CAAlB,CAAT;AACA,UAAMlB,GAAG,CAACU,SAAS,CAACU,WAAD,CAAV,CAAT;AACD,GAtCD,CAsCE,OAAOQ,KAAP,EAAc;AACd,UAAM5B,GAAG,CAACQ,iBAAiB,CAACoB,KAAD,CAAlB,CAAT;AACD;AACF;AAED,OAAO,UAAUb,WAAV,GAAwB;AAC7B,QAAMhB,UAAU,CAACK,gBAAgB,CAACyB,mBAAlB,EAAuCC,WAAvC,CAAhB;AACD;AAED,OAAO,UAAUA,WAAV,GAAwB;AAC7B,QAAMC,KAAK,GAAG,MAAM5B,MAAM,CAACE,WAAD,CAA1B;AACA,QAAMa,IAAI,GAAG,EAAb;AACA,QAAMC,WAAW,GAAG,MAAMhB,MAAM,CAACG,gBAAD,CAAhC;AACA,QAAMc,WAAW,GAAG,MAAMb,cAAc,CAACY,WAAW,CAACE,MAAb,CAAxC;;AACA,UAAQU,KAAR;AACE,SAAK,CAAL;AAAQ;AACN,YAAI;AACF,gBAAMT,KAAK,CACR,gLADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,6KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,8KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,8KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,8KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAM1B,GAAG,CAACY,kBAAkB,CAACM,IAAD,CAAnB,CAAT;AACA,gBAAMlB,GAAG,CAACU,SAAS,CAACU,WAAD,CAAV,CAAT;AACD,SA5BD,CA4BE,OAAOQ,KAAP,EAAc;AACd,gBAAM5B,GAAG,CAACW,kBAAkB,CAACiB,KAAD,CAAnB,CAAT;AACD;;AACD;AACD;;AACD,SAAK,CAAL;AAAQ;AACN,YAAI;AACF,gBAAMV,IAAI,GAAG,EAAb;AACA,gBAAMC,WAAW,GAAG,MAAMhB,MAAM,CAACG,gBAAD,CAAhC;AACA,gBAAMc,WAAW,GAAG,MAAMb,cAAc,CAACY,WAAW,CAACE,MAAb,CAAxC;AACA,gBAAMC,KAAK,CACR,+KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,8KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,gLADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,8KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,6KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAMA,gBAAM1B,GAAG,CAACY,kBAAkB,CAACM,IAAD,CAAnB,CAAT;AACA,gBAAMlB,GAAG,CAACU,SAAS,CAACU,WAAD,CAAV,CAAT;AACD,SAhCD,CAgCE,OAAOQ,KAAP,EAAc;AACd,gBAAM5B,GAAG,CAACW,kBAAkB,CAACiB,KAAD,CAAnB,CAAT;AACD;;AACD;AACD;;AACD,SAAK,CAAL;AAAQ;AACN,YAAI;AACF,gBAAMV,IAAI,GAAG,EAAb;AACA,gBAAMC,WAAW,GAAG,MAAMhB,MAAM,CAACG,gBAAD,CAAhC;AACA,gBAAMc,WAAW,GAAG,MAAMb,cAAc,CAACY,WAAW,CAACE,MAAb,CAAxC;AACA,gBAAMC,KAAK,CACR,gLADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,gLADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAMA,gBAAMJ,KAAK,CACR,8KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,mLADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,+KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAM1B,GAAG,CAACY,kBAAkB,CAACM,IAAD,CAAnB,CAAT;AACA,gBAAMlB,GAAG,CAACU,SAAS,CAACU,WAAD,CAAV,CAAT;AACD,SAhCD,CAgCE,OAAOQ,KAAP,EAAc;AACd,gBAAM5B,GAAG,CAACW,kBAAkB,CAACiB,KAAD,CAAnB,CAAT;AACD;;AACD;AACD;;AACD,SAAK,CAAL;AAAQ;AACN,YAAI;AACF,gBAAMV,IAAI,GAAG,EAAb;AACA,gBAAMC,WAAW,GAAG,MAAMhB,MAAM,CAACG,gBAAD,CAAhC;AACA,gBAAMc,WAAW,GAAG,MAAMb,cAAc,CAACY,WAAW,CAACE,MAAb,CAAxC;AACA,gBAAMC,KAAK,CACR,+KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,6KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,8KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,+KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,8KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAM1B,GAAG,CAACY,kBAAkB,CAACM,IAAD,CAAnB,CAAT;AACA,gBAAMlB,GAAG,CAACU,SAAS,CAACU,WAAD,CAAV,CAAT;AACD,SA/BD,CA+BE,OAAOQ,KAAP,EAAc;AACd,gBAAM5B,GAAG,CAACW,kBAAkB,CAACiB,KAAD,CAAnB,CAAT;AACD;;AACD;AACD;;AACD,SAAK,CAAL;AAAQ;AACN,YAAI;AACF,gBAAMV,IAAI,GAAG,EAAb;AACA,gBAAMC,WAAW,GAAG,MAAMhB,MAAM,CAACG,gBAAD,CAAhC;AACA,gBAAMc,WAAW,GAAG,MAAMb,cAAc,CAACY,WAAW,CAACE,MAAb,CAAxC;AACA,gBAAMC,KAAK,CACR,8KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,oLADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,gLADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,gLADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAMJ,KAAK,CACR,8KADQ,CAAL,CAGHC,IAHG,CAGGC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAHhB,EAIHF,IAJG,CAIGG,KAAD,IAAWR,IAAI,CAACS,IAAL,CAAUD,KAAV,CAJb,CAAN;AAKA,gBAAM1B,GAAG,CAACY,kBAAkB,CAACM,IAAD,CAAnB,CAAT;AACA,gBAAMlB,GAAG,CAACU,SAAS,CAACU,WAAD,CAAV,CAAT;AACD,SA/BD,CA+BE,OAAOQ,KAAP,EAAc;AACd,gBAAM5B,GAAG,CAACW,kBAAkB,CAACiB,KAAD,CAAnB,CAAT;AACD;;AACD;AACD;AAxLH;AA0LD","sourcesContent":["import { takeLatest, put, all, call, select } from \"redux-saga/effects\";\n\nimport birdsActionTypes from \"./birds.types\";\nimport { selectLevel, selectBirdsNames } from \"./birds.selector\";\nimport { getRandomValue } from \"../../utils\";\nimport {\n  fetchImageFailure,\n  fetchImageSuccess,\n  getRandom,\n  goNextLevelFailure,\n  goNextLevelSuccess,\n} from \"./birds.action\";\n\nexport function* birdsSagas() {\n  yield all([call(onFetchImageStart), call(onNextLevel)]);\n}\n\nexport function* onFetchImageStart() {\n  yield takeLatest(birdsActionTypes.FETCH_IMAGE_START, fetchingImage);\n}\n\nexport function* fetchingImage() {\n  try {\n    const data = [];\n    const birdsLength = yield select(selectBirdsNames);\n    const randomValue = yield getRandomValue(birdsLength.length);\n\n    yield fetch(\n      `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=ворон`\n    )\n      .then((response) => response.json())\n      .then((value) => data.push(value));\n    yield fetch(\n      `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=журавль`\n    )\n      .then((response) => response.json())\n      .then((value) => data.push(value));\n    yield fetch(\n      `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=сорока`\n    )\n      .then((response) => response.json())\n      .then((value) => data.push(value));\n    yield fetch(\n      `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=козодой`\n    )\n      .then((response) => response.json())\n      .then((value) => data.push(value));\n    yield fetch(\n      `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=кукушка`\n    )\n      .then((response) => response.json())\n      .then((value) => data.push(value));\n    yield fetch(\n      `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=синица`\n    )\n      .then((response) => response.json())\n      .then((value) => data.push(value));\n\n    yield put(fetchImageSuccess(data));\n    yield put(getRandom(randomValue));\n  } catch (error) {\n    yield put(fetchImageFailure(error));\n  }\n}\n\nexport function* onNextLevel() {\n  yield takeLatest(birdsActionTypes.GO_NEXT_LEVEL_START, goNextLevel);\n}\n\nexport function* goNextLevel() {\n  const level = yield select(selectLevel);\n  const data = [];\n  const birdsLength = yield select(selectBirdsNames);\n  const randomValue = yield getRandomValue(birdsLength.length);\n  switch (level) {\n    case 1: {\n      try {\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=воробей`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=грач`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=галка`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=дрозд`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=сойка`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield put(goNextLevelSuccess(data));\n        yield put(getRandom(randomValue));\n      } catch (error) {\n        yield put(goNextLevelFailure(error));\n      }\n      break;\n    }\n    case 2: {\n      try {\n        const data = [];\n        const birdsLength = yield select(selectBirdsNames);\n        const randomValue = yield getRandomValue(birdsLength.length);\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=зяблик`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=клёст`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=горлица`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=дятел`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=удод`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n\n        yield put(goNextLevelSuccess(data));\n        yield put(getRandom(randomValue));\n      } catch (error) {\n        yield put(goNextLevelFailure(error));\n      }\n      break;\n    }\n    case 3: {\n      try {\n        const data = [];\n        const birdsLength = yield select(selectBirdsNames);\n        const randomValue = yield getRandomValue(birdsLength.length);\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=соловей`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=скворец`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=щегол`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=свиристель`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=иволга`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield put(goNextLevelSuccess(data));\n        yield put(getRandom(randomValue));\n      } catch (error) {\n        yield put(goNextLevelFailure(error));\n      }\n      break;\n    }\n    case 4: {\n      try {\n        const data = [];\n        const birdsLength = yield select(selectBirdsNames);\n        const randomValue = yield getRandomValue(birdsLength.length);\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=коршун`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=лунь`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=сокол`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=ястреб`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=филин`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield put(goNextLevelSuccess(data));\n        yield put(getRandom(randomValue));\n      } catch (error) {\n        yield put(goNextLevelFailure(error));\n      }\n      break;\n    }\n    case 5: {\n      try {\n        const data = [];\n        const birdsLength = yield select(selectBirdsNames);\n        const randomValue = yield getRandomValue(birdsLength.length);\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=олуша`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=буревестник`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=пеликан`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=пингвин`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield fetch(\n          `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=7ecd0010d836ddcdfb59aa1364622ed5&tag_mode=all&extras=url_m&format=json&nojsoncallback=1&tags=чайка`\n        )\n          .then((response) => response.json())\n          .then((value) => data.push(value));\n        yield put(goNextLevelSuccess(data));\n        yield put(getRandom(randomValue));\n      } catch (error) {\n        yield put(goNextLevelFailure(error));\n      }\n      break;\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}